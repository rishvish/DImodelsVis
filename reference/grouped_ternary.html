<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Grouped ternary diagrams are created by combining the proportions of the
compositional variables into groups and visualising these groups on a 2-d
ternary diagram. These are very useful when we have multiple compositional
variables that can be grouped together by some hierarchical grouping structure.
For example, grouping species in a ecosystem based on the functions they perform,
or grouping political parties based on their national alliances. Grouping
variables this way allows us to reduce the dimensionality of the compositional
data and visualise it. This is akin to looking at a 2-d slice of the high
dimensional simplex. The relative proportions of each variable within a group
can be adjusted to look at different slices of the simplex. Looking at multiple
such slices would enable us to create an approximation of how the response varies
across the original n-dimensional simplex.
This is a wrapper function specifically for statistical models fit using the
DI() function from the
DImodels R package and would implicitly
call grouped_ternary_data followed by
grouped_ternary_plot. If your model object isn't fit using
DImodels, consider calling these functions manually."><title>Conditional ternary diagrams at functional group level — grouped_ternary • DImodelsVis</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conditional ternary diagrams at functional group level — grouped_ternary"><meta property="og:description" content="Grouped ternary diagrams are created by combining the proportions of the
compositional variables into groups and visualising these groups on a 2-d
ternary diagram. These are very useful when we have multiple compositional
variables that can be grouped together by some hierarchical grouping structure.
For example, grouping species in a ecosystem based on the functions they perform,
or grouping political parties based on their national alliances. Grouping
variables this way allows us to reduce the dimensionality of the compositional
data and visualise it. This is akin to looking at a 2-d slice of the high
dimensional simplex. The relative proportions of each variable within a group
can be adjusted to look at different slices of the simplex. Looking at multiple
such slices would enable us to create an approximation of how the response varies
across the original n-dimensional simplex.
This is a wrapper function specifically for statistical models fit using the
DI() function from the
DImodels R package and would implicitly
call grouped_ternary_data followed by
grouped_ternary_plot. If your model object isn't fit using
DImodels, consider calling these functions manually."><meta property="og:image" content="https://rishvish.github.io/DImodelsVis/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DImodelsVis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/DImodelsVis-with-complex-models.html">Using DImodelsVis with regression models not fit using the DImodels package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Conditional ternary diagrams at functional group level</h1>
      
      <div class="d-none name"><code>grouped_ternary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Grouped ternary diagrams are created by combining the proportions of the
compositional variables into groups and visualising these groups on a 2-d
ternary diagram. These are very useful when we have multiple compositional
variables that can be grouped together by some hierarchical grouping structure.
For example, grouping species in a ecosystem based on the functions they perform,
or grouping political parties based on their national alliances. Grouping
variables this way allows us to reduce the dimensionality of the compositional
data and visualise it. This is akin to looking at a 2-d slice of the high
dimensional simplex. The relative proportions of each variable within a group
can be adjusted to look at different slices of the simplex. Looking at multiple
such slices would enable us to create an approximation of how the response varies
across the original n-dimensional simplex.
This is a wrapper function specifically for statistical models fit using the
<code><a href="https://rdrr.io/pkg/DImodels/man/DI.html" class="external-link">DI()</a></code> function from the
<code><a href="https://rdrr.io/pkg/DImodels/man/DImodels-package.html" class="external-link">DImodels</a></code> R package and would implicitly
call <code><a href="grouped_ternary_data.html">grouped_ternary_data</a></code> followed by
<code><a href="grouped_ternary_plot.html">grouped_ternary_plot</a></code>. If your model object isn't fit using
DImodels, consider calling these functions manually.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">grouped_ternary</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">FG</span>,</span>
<span>  values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tern_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conditional <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nlevels <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  colours <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lower_lim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  upper_lim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  contour_text <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_axis_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_axis_guides <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  axis_label_size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  vertex_label_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ncol <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>A Diversity Interactions model object fit by using the
<code><a href="https://rdrr.io/pkg/DImodels/man/DI.html" class="external-link">DI()</a></code> function from the
<code><a href="https://rdrr.io/pkg/DImodels/man/DImodels-package.html" class="external-link">DImodels</a></code> package.</p></dd>


<dt>FG</dt>
<dd><p>A character vector specifying the groupings of the variables specified in `prop`.</p></dd>


<dt>values</dt>
<dd><p>A numeric vector specifying the proportional split of the variables within a group.
The default is to split the group proportion equally between
each variable in the group.</p></dd>


<dt>tern_vars</dt>
<dd><p>A character vector giving the names of the three variables
to be shown in the ternary diagram.</p></dd>


<dt>conditional</dt>
<dd><p>A data-frame describing the names of the compositional variables
and their respective values at which to slice the
simplex space. The format should be, for example, as follows: <br><code>data.frame("p1" = c(0, 0.5), "p2" = c(0.2, 0.1))</code> <br>
One figure would be created for each row in `conditional` with
the respective values of all specified variables. Any
compositional variables not specified in `conditional` will
be assumed to be 0.</p></dd>


<dt>add_var</dt>
<dd><p>A list or data-frame specifying values for additional variables
in the model other than the proportions (i.e. not part of the
simplex design).
This could be useful for comparing the predictions across
different values for a non-compositional variable.
If specified as a list, it will be expanded to show a plot
for each unique combination of values specified, while if specified
as a data-frame, one plot would be generated for each row in the
data.</p></dd>


<dt>resolution</dt>
<dd><p>A number between 1 and 10 describing the resolution of the
resultant graph.
A high value would result in a higher definition figure
but at the cost of being computationally expensive.</p></dd>


<dt>plot</dt>
<dd><p>A boolean variable indicating whether to create the plot or return
the prepared data instead. The default <code>TRUE</code> creates the plot while
<code>FALSE</code> would return the prepared data for plotting. Could be useful
if user wants to modify the data first and then create the plot.</p></dd>


<dt>nlevels</dt>
<dd><p>The number of levels to show on the contour map.</p></dd>


<dt>colours</dt>
<dd><p>A character vector or function specifying the colours for the
contour map or points. The number of colours should be same as
`nlevels` if (`show = "contours"`). <br>
The default colours scheme is the
<code><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">terrain.colors()</a></code> for
continuous variables and an extended version of the Okabe-Ito
colour scale for categorical variables.</p></dd>


<dt>lower_lim</dt>
<dd><p>A number to set a custom lower limit for the contour
(if `show = "contours"`). The default is minimum of the prediction.</p></dd>


<dt>upper_lim</dt>
<dd><p>A number to set a custom upper limit for the contour
(if `show = "contours"`). The default is maximum of the prediction.</p></dd>


<dt>contour_text</dt>
<dd><p>A boolean value indicating whether to include labels on
the contour lines showing their values
(if `show = "contours"`). The default is <code>TRUE</code>.</p></dd>


<dt>show_axis_labels</dt>
<dd><p>A boolean value indicating whether to show axis
labels along the edges of the ternary. The default
is <code>TRUE</code>.</p></dd>


<dt>show_axis_guides</dt>
<dd><p>A boolean value indicating whether to show axis
guides within the interior of the ternary. The
default is <code>FALSE</code>.</p></dd>


<dt>axis_label_size</dt>
<dd><p>A numeric value to adjust the size of the axis labels
in the ternary plot. The default size is 4.</p></dd>


<dt>vertex_label_size</dt>
<dd><p>A numeric value to adjust the size of the vertex
labels in the ternary plot. The default size is 5.</p></dd>


<dt>nrow</dt>
<dd><p>Number of rows in which to arrange the final plot
(when `add_var` is specified).</p></dd>


<dt>ncol</dt>
<dd><p>Number of columns in which to arrange the final plot
(when `add_var` is specified).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A ggmultiplot (ggplot if single plot is returned) class object or data-frame (if `plot = FALSE`)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">DImodels</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sim3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DImodels/man/DI.html" class="external-link">DI</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"response"</span>, prop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"p"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         DImodel <span class="op">=</span> <span class="st">"AV"</span>, data <span class="op">=</span> <span class="va">sim3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>         <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitted model: Average interactions 'AV' DImodel</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We have nine (p1 to p9) variables here and using `conditional_ternary`</span></span></span>
<span class="r-in"><span><span class="co">## to visualise the simplex space won't be very helpful as there are too</span></span></span>
<span class="r-in"><span><span class="co">## variables to condition on</span></span></span>
<span class="r-in"><span><span class="co">## Instead we group the nine-variables into three groups called "G", "L" and "H"</span></span></span>
<span class="r-in"><span><span class="fu">grouped_ternary</span><span class="op">(</span>model <span class="op">=</span> <span class="va">m1</span>, FG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"L"</span>,<span class="st">"L"</span>,<span class="st">"H"</span>,<span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                resolution <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The proportional split of species in the groups was not specified in `values`,</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> assuming an equal split for species in each group.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished data preparation.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created plot.</span>
<span class="r-plt img"><img src="grouped_ternary-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">## By default the variables within a group take up an equal share of the</span></span></span>
<span class="r-in"><span><span class="co">## group proportion. So for example, each point along the above ternary</span></span></span>
<span class="r-in"><span><span class="co">## would have a 50:50 split of the variables in the group "L" or "H", thus</span></span></span>
<span class="r-in"><span><span class="co">## the vertex where "L" is 1, would mean that p6 and p7 are 0.5 each,</span></span></span>
<span class="r-in"><span><span class="co">## similarly, the vertex "H" is made up of 0.5 of p8 and p9 while the "G"</span></span></span>
<span class="r-in"><span><span class="co">## vertex is comprised of 0.2 of each of p1, p2, p3, p4, and p5. The concepts</span></span></span>
<span class="r-in"><span><span class="co">## also extend to points along the edges and interior of the ternary.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We can also manually specify the split of the species within a group</span></span></span>
<span class="r-in"><span><span class="co">## This would mean we are looking at a different slice of the simplex</span></span></span>
<span class="r-in"><span><span class="co">## For example this would mean the groups "L" group is made up of 100% of</span></span></span>
<span class="r-in"><span><span class="co">## p7 and doesn't contain any p6, while "H" group contains 30% of p8 and</span></span></span>
<span class="r-in"><span><span class="co">## 70% of p9, while "G" group still contains 20% of each p1 to p5.</span></span></span>
<span class="r-in"><span><span class="fu">grouped_ternary</span><span class="op">(</span><span class="va">m1</span>, FG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"G"</span>,<span class="st">"L"</span>,<span class="st">"L"</span>,<span class="st">"H"</span>,<span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                resolution <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>                           <span class="fl">0</span>, <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                           <span class="fl">0.3</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished data preparation.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created plot.</span>
<span class="r-plt img"><img src="grouped_ternary-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## If here are more than three groups then, we could condition some groups</span></span></span>
<span class="r-in"><span><span class="co">## to have a fixed value while three groups are manipulated within a ternary</span></span></span>
<span class="r-in"><span><span class="co">## The group "G" is now split into two groups "G1" and "G2"</span></span></span>
<span class="r-in"><span><span class="co">## We can create conditional ternary diagram at the grouped level as well</span></span></span>
<span class="r-in"><span><span class="co">## Notice the values going in `tern_vars` and `conditional` are names</span></span></span>
<span class="r-in"><span><span class="co">## of the groups and not the original compositional variables</span></span></span>
<span class="r-in"><span><span class="fu">grouped_ternary</span><span class="op">(</span><span class="va">m1</span>, FG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>,<span class="st">"G1"</span>,<span class="st">"G2"</span>,<span class="st">"G2"</span>,<span class="st">"G2"</span>,<span class="st">"L"</span>,<span class="st">"L"</span>,<span class="st">"H"</span>,<span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                resolution <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                tern_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>, <span class="st">"L"</span>, <span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                conditional <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"G2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The proportional split of species in the groups was not specified in `values`,</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> assuming an equal split for species in each group.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished data preparation.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created plot.</span>
<span class="r-plt img"><img src="grouped_ternary-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Specify `plot = FALSE` to not create the plot but return the prepared data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">grouped_ternary</span><span class="op">(</span><span class="va">m1</span>, FG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>,<span class="st">"G1"</span>,<span class="st">"G2"</span>,<span class="st">"G2"</span>,<span class="st">"G2"</span>,<span class="st">"L"</span>,<span class="st">"L"</span>,<span class="st">"H"</span>,<span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     resolution <span class="op">=</span> <span class="fl">1</span>, plot <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                     tern_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G1"</span>, <span class="st">"L"</span>, <span class="st">"H"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     conditional <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"G2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The proportional split of species in the groups was not specified in `values`,</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> assuming an equal split for species in each group.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Finished data preparation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   G1         L           H          .x .y p1 p2 p3 p4 p5        p6        p7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0 1.0000000 0.000000000 0.000000000  0  0  0  0  0  0 0.5000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0 0.9949749 0.005025126 0.005025126  0  0  0  0  0  0 0.4974874 0.4974874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  0 0.9899497 0.010050251 0.010050251  0  0  0  0  0  0 0.4949749 0.4949749</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  0 0.9849246 0.015075377 0.015075377  0  0  0  0  0  0 0.4924623 0.4924623</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  0 0.9798995 0.020100503 0.020100503  0  0  0  0  0  0 0.4899497 0.4899497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0 0.9748744 0.025125628 0.025125628  0  0  0  0  0  0 0.4874372 0.4874372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            p8          p9 G2 .Sp .Value .Facet    .Pred</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.000000000 0.000000000  0  G2      0 G2 = 0 7.351083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.002512563 0.002512563  0  G2      0 G2 = 0 7.388483</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.005025126 0.005025126  0  G2      0 G2 = 0 7.425747</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.007537688 0.007537688  0  G2      0 G2 = 0 7.462876</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.010050251 0.010050251  0  G2      0 G2 = 0 7.499869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.012562814 0.012562814  0  G2      0 G2 = 0 7.536726</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## All other functionality from \code{\link{condtional_ternary_plot}} is</span></span></span>
<span class="r-in"><span><span class="co">## available in this function too.</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Rishabh Vishwakarma, Caroline Brophy, Laura Byrne, Catherine Hurley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

